{% extends "base.html" %}
{% block title %}DESTINATION{% endblock %}
{% block content %}
<h4 class="text-center font-weight-bold mb-2 text-primary">BROWSE DESTINATIONS</h4>
<hr>
<div class="my-4">
    <!-- Carousel -->
    <div id="buttonCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% set repeated_labels = categories * 4 %} <!-- Repeat categories 4 times -->
            {% for i in range(0, repeated_labels|length, 3) %} <!-- Display 3 buttons per slide on mobile -->
            <div class="carousel-item {% if i == 0 %}active{% endif %}">
                <div class="d-flex flex-wrap justify-content-center">
                    {% for label in repeated_labels[i:i+3] %}
                    <a class="btn btn-outline-primary m-1 d-inline-block"
                        style="min-width: 80px; max-width: 120px; font-size: 14px;" href="#">{{ label.replace('_', '
                        ').title() }}</a>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
        <!-- Carousel Controls -->
        <a class="carousel-control-prev bg-primary" href="#buttonCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next bg-primary" href="#buttonCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<form class="" action="" method="post">
    <input type="text" class="form-control form-control-sm" id="destinations"
        placeholder="Search for destination or category here ...">
</form>

<div class="row">
    {% for attraction in attractions %}
    <div class="col-6 pt-2">
        <div class="card box-shadow">
            <img class="card-img-top" src="https://placehold.co/600x400?text=Malang\nDestination"
                alt="{{ attraction.properties.name}}">
            <div class="card-body">
                <p class="card-text">{{ attraction.properties.name[:20] }}</p>
                <div class="d-flex justify-content-between align-items-center">
                    <a href="{{ url_for('attraction_details', attraction_id=attraction.attraction_id) }}"
                        class="btn btn-sm btn-outline-primary btn-block font-weight-bold">VIEW <i
                            class="fas fa-eye"></i></a>
                    <a href="{{ url_for('attraction_details', attraction_id=attraction.id) }}"></a>

                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}